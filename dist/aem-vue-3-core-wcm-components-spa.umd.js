(function(d,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("aem-vue-3-editable-components"),require("@adobe/aem-spa-page-model-manager")):typeof define=="function"&&define.amd?define(["exports","vue","aem-vue-3-editable-components","@adobe/aem-spa-page-model-manager"],e):(d=typeof globalThis<"u"?globalThis:d||self,e(d.aemVueCoreWcmComponentsSpa={},d.Vue,d.AemVueEditableComponents,d.AemSpaPageModelManager))})(this,function(d,e,i,A){"use strict";const D={emptyLabel:"Accordion",isEmpty(a){return!a.cqItemsOrder||(a==null?void 0:a.cqItemsOrder.length)===0}},L={emptyLabel:"Carousel",isEmpty(a){return!a.cqItemsOrder||(a==null?void 0:a.cqItemsOrder.length)===0}},V={emptyLabel:"Container",isEmpty(a){return!a.cqItemsOrder||(a==null?void 0:a.cqItemsOrder.length)===0}},j={emptyLabel:"Experience Fragment",isEmpty(a){return!a.cqItemsOrder||(a==null?void 0:a.cqItemsOrder.length)===0}},G={emptyLabel:"Tabs",isEmpty(a){return!a.cqItemsOrder||(a==null?void 0:a.cqItemsOrder.length)===0}},M=e.defineComponent({inheritAttrs:!1,__name:"CoreContainer",props:{accessibilityLabel:{type:String},backgroundStyle:{type:String},cqPath:{type:String,default:""},isInEditor:{type:Boolean,default:void 0},layout:{type:String,default:"RESPONSIVE_GRID",validator:a=>["RESPONSIVE_GRID","SIMPLE"].includes(a)},roleAttribute:{type:String},styleSystemElement:{type:String,default:"div"},...i.componentProperties("cmp-container")},setup(a){const t=a,l=e.useAttrs(),f=typeof t.isInEditor<"u"?t.isInEditor:e.inject("isInEditor",A.AuthoringUtils.isInEditor()),w=e.computed(()=>i.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,f,t.aemNoDecoration)),_=e.computed(()=>{var m;return f&&(l==null?void 0:l.allowedComponents)&&((m=l==null?void 0:l.allowedComponents)==null?void 0:m.applicable)});return(m,b)=>_.value?(e.openBlock(),e.createBlock(e.unref(i.AllowedComponentsContainer),e.normalizeProps(e.mergeProps({key:0},{...t,...e.unref(l)})),null,16)):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.styleSystemElement||"div"),{key:1,id:t.id,"aria-label":t.accessibilityLabel,class:e.normalizeClass(w.value),role:t.roleAttribute,style:e.normalizeStyle(t.backgroundStyle)},{default:e.withCtx(()=>[a.layout==="RESPONSIVE_GRID"?(e.openBlock(),e.createBlock(e.unref(i.ResponsiveGrid),e.normalizeProps(e.mergeProps({key:0},{...t,...e.unref(l),allowedComponents:{applicable:!1,components:[]},title:""})),null,16)):(e.openBlock(),e.createBlock(e.unref(i.Container),e.normalizeProps(e.mergeProps({key:1},{...t,...e.unref(l)})),null,16))]),_:1},8,["id","aria-label","class","role","style"]))}}),R=["id","data-cmp-single-expansion"],F=["id","data-cmp-expanded"],T=["id","aria-controls","data-cmp-button-id","onClick","onKeydown"],U=[e.createElementVNode("svg",{fill:"var(--accordion-heading-color)",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},[e.createElementVNode("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})],-1)],H=["id","aria-labelledby"],W=e.defineComponent({inheritAttrs:!1,__name:"CoreAccordion",props:{cqItems:{type:Object},cqItemsOrder:{type:Array},cqPath:{type:String,default:""},expandedItems:{type:Array,default:()=>[]},headingElement:{type:String,default:"h3"},...i.componentProperties("cmp-accordion")},setup(a){const t=a,l=e.useAttrs(),f=e.inject("isInEditor",A.AuthoringUtils.isInEditor()),w=e.inject("componentMapping",new i.ComponentMapping),_=(()=>{try{return typeof window<"u"}catch{return!1}})(),m=e.ref(null),b=e.ref(-1),p=e.ref(t.expandedItems),h=e.ref(null),N=e.computed(()=>(l==null?void 0:l.singleExpansion)===!0);_&&window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(m.value=new window.Granite.author.MessageChannel("cqauthor",window));const I=e.computed(()=>{const s={};return f&&(s["data-panelcontainer"]="accordion",s["data-cq-data-path"]=t.cqPath||"",s["data-placeholder-text"]="Please drag Accordion item components here"),s}),$=(s,c=t.cqPath)=>{s.data&&s.data.id===c&&s.data.operation==="navigate"&&(b.value=s.data.index)},O=e.computed(()=>i.Utils.getChildComponents(t.cqPath,t.cqItems,t.cqItemsOrder,!0,()=>({}),!1,w)),x=e.computed(()=>i.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,f,t.aemNoDecoration)),n=s=>{const c=h.value.querySelector(`button[data-cmp-button-id="${s}"]`);c&&c.focus()},u=(s,c)=>{const o=p.value.indexOf(s)>-1;if(N.value)p.value=o?[]:[s];else if(o){const g=p.value.indexOf(s);p.value.splice(g,1)}else p.value.push(s);c.target.focus()},k=(s,c,o)=>{const g=h.value.querySelectorAll("button").length-1;switch(c.code){case"ArrowLeft":case"ArrowUp":c.preventDefault(),o>0&&n(o-1);break;case"ArrowRight":case"ArrowDown":c.preventDefault(),o<g&&n(o+1);break;case"Home":c.preventDefault(),n(0);break;case"End":c.preventDefault(),n(g);break;case"Enter":case"Space":c.preventDefault(),u(s,c),n(o);break}},y=s=>p.value.indexOf(s)>-1,S=e.computed(()=>({cqPath:t.cqPath,placeholderClassNames:["new","section"].join(" ")}));return e.watch(N,async(s,c)=>{s!==c&&(p.value=t.expandedItems)}),e.watch(t.expandedItems,async(s,c)=>{s!==c&&(p.value=s)}),e.watch(b,async(s,c)=>{s!==-1&&typeof s<"u"&&s!==c&&t.cqItemsOrder&&(p.value=[t.cqItemsOrder[s]])}),e.onMounted(()=>{m.value&&m.value.subscribeRequestMessage("cmp.panelcontainer",$)}),e.onUnmounted(()=>{m.value&&m.value.unsubscribeRequestMessage("cmp.panelcontainer",$)}),(s,c)=>(e.openBlock(),e.createElementBlock("div",e.mergeProps({id:t.id,ref_key:"accordion",ref:h,class:x.value,"data-cmp-single-expansion":N.value===!0?!0:void 0},I.value),[t.cqItemsOrder&&(t==null?void 0:t.cqItemsOrder.length)>0&&t.cqItems?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(t.cqItemsOrder,(o,g)=>(e.openBlock(),e.createElementBlock("div",{id:`accordion-${t.cqItems[o].id}`,key:`accordion-index-${g}`,class:e.normalizeClass(`${t.baseCssClass}__item`),"data-cmp-expanded":y(o)?!0:void 0},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.headingElement),{class:e.normalizeClass(`${t.baseCssClass}__heading`)},{default:e.withCtx(()=>[e.createElementVNode("button",{id:`accordion-${t.cqItems[o].id}-button`,"aria-controls":`accordion-${t.cqItems[o].id}-panel`,class:e.normalizeClass([`${t.baseCssClass}__button`,{[`${t.baseCssClass}__button--expanded`]:y(o)}]),"data-cmp-button-id":g,onClick:z=>u(o,z),onKeydown:z=>k(o,z,g)},[e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__title`)},e.toDisplayString(t.cqItems[o]["cq:panelTitle"]),3),e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__icon`)},U,2)],42,T)]),_:2},1032,["class"])),e.unref(f)||y(o)?(e.openBlock(),e.createElementBlock("div",{key:0,id:`accordion-${t.cqItems[o].id}-panel`,"aria-labelledby":`accordion-${t.cqItems[o].id}-button`,class:e.normalizeClass(`${t.baseCssClass}__panel ${y(o)?" "+t.baseCssClass+"__panel--expanded":" "+t.baseCssClass+"__panel--hidden"}`),role:"region"},[t.cqItemsOrder?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(O.value[a.cqItemsOrder.indexOf(o)]),{key:0})):e.createCommentVNode("",!0)],10,H)):e.createCommentVNode("",!0)],10,F))),128)):e.createCommentVNode("",!0),e.unref(f)?(e.openBlock(),e.createBlock(e.unref(i.ContainerPlaceholder),e.normalizeProps(e.mergeProps({key:1},S.value)),null,16)):e.createCommentVNode("",!0)],16,R))}}),_e="",J=["id","aria-label"],K=["aria-label"],Q=["aria-label"],X=[e.createElementVNode("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e.createElementVNode("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"})],-1)],Y=["aria-label"],Z=[e.createElementVNode("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e.createElementVNode("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})],-1)],v=["aria-label"],ee=[e.createElementVNode("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e.createElementVNode("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})],-1)],te=["aria-label"],ae=[e.createElementVNode("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e.createElementVNode("path",{d:"M8 5v14l11-7z"})],-1)],se=["aria-label"],ne=["aria-label","onClick"],oe=e.defineComponent({inheritAttrs:!1,__name:"CoreCarousel",props:{accessibility:{type:Object,default:()=>({play:"Play",pause:"Pause",next:"Next",previous:"Previous",slide:"Slide {0} of {1}",indicator:"Slide {0}",indicators:"Choose a slide to display"})},accessibilityLabel:{type:String,default:"Carousel"},autopauseDisabled:{type:Boolean,default:!1},cqItems:{type:Object},cqItemsOrder:{type:Array},cqPath:{type:String,default:""},delay:{type:Number,default:5e3},isInEditor:{type:Boolean,default:void 0},...i.componentProperties("cmp-carousel")},setup(a){const t=a,l=e.useAttrs(),f=typeof t.isInEditor<"u"?t.isInEditor:e.inject("isInEditor",A.AuthoringUtils.isInEditor()),w=e.inject("componentMapping",new i.ComponentMapping),_=e.ref(-1),m=e.ref(-1),b=e.ref(0),p=e.ref(null),h=e.ref((l==null?void 0:l.autoplay)===!0&&!f);(()=>{try{return typeof window<"u"}catch{return!1}})()&&window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(p.value=new window.Granite.author.MessageChannel("cqauthor",window));const I=(r,C=t.cqPath)=>{r.data&&r.data.id===C&&r.data.operation==="navigate"&&(m.value=r.data.index)},$=e.computed(()=>i.Utils.getChildComponents(t.cqPath,t.cqItems,t.cqItemsOrder,!0,()=>({}),!1,w)),O=e.computed(()=>i.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,f,t.aemNoDecoration)),x=e.computed(()=>({cqPath:t.cqPath,placeholderClassNames:["new","section"].join(" ")})),n=r=>{var B;let C=((B=t.accessibility)==null?void 0:B.indicator)||"";const P="{0}";return C=C.replace(P,(r+1).toString()),C},u=r=>{var E;let C=((E=t.accessibility)==null?void 0:E.slide)||"";const P="{0}";C=C.replace(P,(r+1).toString());const B="{1}";return C=C.replace(B,t.cqItemsOrder.length.toString()),C},k=()=>{b.value===t.cqItemsOrder.length-1?b.value=0:b.value+=1},y=()=>{b.value===0?b.value=t.cqItemsOrder.length-1:b.value-=1},S=()=>{!h.value||t.cqItemsOrder.length<=1||k()},s=()=>{_.value=setInterval(()=>{S()},t.delay)},c=()=>{clearInterval(_.value)},o=r=>{h.value=r},g=r=>{b.value!==r&&(b.value=r)},z=()=>{!t.autopauseDisabled&&h.value&&c()},me=()=>{!t.autopauseDisabled&&h.value&&s()},pe=e.computed(()=>!t.cqItemsOrder||(t==null?void 0:t.cqItemsOrder.length)===0);return e.watch(m,async(r,C)=>{r!==-1&&typeof r<"u"&&r!==C&&(b.value=r,h.value=!1)}),e.onMounted(()=>{s(),p.value&&p.value.subscribeRequestMessage("cmp.panelcontainer",I)}),e.onUnmounted(()=>{typeof _.value=="number"&&_.value>=0&&c(),p.value&&p.value.unsubscribeRequestMessage("cmp.panelcontainer",I)}),(r,C)=>{var P,B;return e.openBlock(),e.createElementBlock("div",{id:t.id,"aria-label":t.accessibilityLabel,class:e.normalizeClass(O.value),"aria-roledescription":"carousel","data-panelcontainer":"carousel",role:"group"},[pe.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(`${t.baseCssClass}__content`),onMouseenter:z,onMouseleave:me},[e.createElementVNode("div",{class:e.normalizeClass([{[`${t.baseCssClass}__items`]:!e.unref(f)}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.value,(E,q)=>(e.openBlock(),e.createElementBlock("div",{key:`item-${q}`,"aria-label":u(q),class:e.normalizeClass([`${t.baseCssClass}__item`,{[`${t.baseCssClass}__item--active`]:q===b.value}]),"data-cmp-hook-carousel":"item",role:"tabpanel"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(E)))],10,K))),128))],2),e.createElementVNode("div",{class:e.normalizeClass(`${t.baseCssClass}__actions`)},[e.createElementVNode("button",{"aria-label":t.accessibility.previous,class:e.normalizeClass(`${t.baseCssClass}__action ${t.baseCssClass}__action--previous`),type:"button",onClick:y},[e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__action-icon`)},X,2),e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__action-text`)},e.toDisplayString(t.accessibility.previous),3)],10,Q),e.createElementVNode("button",{"aria-label":t.accessibility.next,class:e.normalizeClass(`${t.baseCssClass}__action ${t.baseCssClass}__action--next`),type:"button",onClick:k},[e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__action-icon`)},Z,2),e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__action-text`)},e.toDisplayString(t.accessibility.next),3)],10,Y),((P=e.unref(l))==null?void 0:P.autoplay)===!0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("button",{"aria-label":t.accessibility.pause,class:e.normalizeClass([`${t.baseCssClass}__action`,`${t.baseCssClass}__action--pause`,{[`${t.baseCssClass}__action--disabled`]:!h.value}]),type:"button",onClick:C[0]||(C[0]=E=>o(!1))},[e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__action-icon`)},ee,2),e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__action-text`)},e.toDisplayString(t.accessibility.pause),3)],10,v),e.createElementVNode("button",{"aria-label":t.accessibility.play,class:e.normalizeClass([`${t.baseCssClass}__action`,`${t.baseCssClass}__action--play`,{[`${t.baseCssClass}__action--disabled`]:h.value}]),type:"button",onClick:C[1]||(C[1]=E=>o(!0))},[e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__action-icon`)},ae,2),e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__action-text`)},e.toDisplayString(t.accessibility.play),3)],10,te)],64)):e.createCommentVNode("",!0)],2),e.createElementVNode("ol",{"aria-label":(B=t.accessibility)==null?void 0:B.indicators,class:e.normalizeClass(`${t.baseCssClass}__indicators`),role:"tablist"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.cqItemsOrder,(E,q)=>(e.openBlock(),e.createElementBlock("li",{key:`item-${q}`,"aria-label":n(q),class:e.normalizeClass([`${t.baseCssClass}__indicator`,{[`${t.baseCssClass}__indicator--active`]:q===b.value}]),role:"tab",onClick:Ie=>g(q)},e.toDisplayString(t.cqItems[E]["cq:panelTitle"]),11,ne))),128))],10,se)],34)),e.unref(f)?(e.openBlock(),e.createBlock(e.unref(i.ContainerPlaceholder),e.normalizeProps(e.mergeProps({key:1},x.value)),null,16)):e.createCommentVNode("",!0)],10,J)}}}),ge="",le=e.defineComponent({__name:"CoreExperienceFragment",setup(a){return(t,l)=>(e.openBlock(),e.createBlock(M,{"is-in-editor":!1}))}}),ue="",ce=["id"],ie=["aria-label"],re=["tabIndex","onClick"],de=e.defineComponent({inheritAttrs:!1,__name:"CoreTabs",props:{accessibilityLabel:{type:String},cqItems:{type:Object},cqItemsOrder:{type:Array},cqPath:{type:String,default:""},isInEditor:{type:Boolean,default:void 0},...i.componentProperties("cmp-tabs")},setup(a){const t=a,l=typeof t.isInEditor<"u"?t.isInEditor:e.inject("isInEditor",A.AuthoringUtils.isInEditor()),f=e.inject("componentMapping",new i.ComponentMapping),w=e.ref(-1),_=e.ref(0),m=e.ref(null);(()=>{try{return typeof window<"u"}catch{return!1}})()&&window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(m.value=new window.Granite.author.MessageChannel("cqauthor",window));const p=(n,u=t.cqPath)=>{n.data&&n.data.id===u&&n.data.operation==="navigate"&&(w.value=n.data.index)},h=e.computed(()=>i.Utils.getChildComponents(t.cqPath,t.cqItems,t.cqItemsOrder,!0,()=>({}),!1,f)),N=e.computed(()=>i.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,l,t.aemNoDecoration)),I=e.computed(()=>!t.cqItemsOrder||(t==null?void 0:t.cqItemsOrder.length)===0),$=e.computed(()=>{const n={class:"aem-container","data-cmp-is":"tabs","data-panelcontainer":"tabs"};return l&&(n["data-cq-data-path"]=t.cqPath),n}),O=e.computed(()=>({cqPath:t.cqPath,placeholderClassNames:["new","section"].join(" ")})),x=n=>{_.value!==n&&(_.value=n)};return e.watch(w,async(n,u)=>{n!==-1&&typeof n<"u"&&n!==u&&(_.value=n)}),e.onMounted(()=>{m.value&&m.value.subscribeRequestMessage("cmp.panelcontainer",p)}),e.onUnmounted(()=>{m.value&&m.value.unsubscribeRequestMessage("cmp.panelcontainer",p)}),(n,u)=>(e.openBlock(),e.createElementBlock("div",e.mergeProps({id:t.id,class:N.value},$.value),[I.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("ol",{key:0,"aria-label":t.accessibilityLabel,class:e.normalizeClass(`${t.baseCssClass}__tablist`),"aria-multiselectable":"false",role:"tablist"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.cqItemsOrder,(k,y)=>(e.openBlock(),e.createElementBlock("li",{key:`tab-${y}`,class:e.normalizeClass([`${t.baseCssClass}__tab`,{[`${t.baseCssClass}__tab--active`]:y===_.value}]),tabIndex:y===_.value?0:-1,"data-cmp-hook-tabs":"tab",role:"tab",onClick:S=>x(y)},e.toDisplayString(t.cqItems[k]["cq:panelTitle"]),11,re))),128))],10,ie)),!I.value&&e.unref(l)?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(h.value,(k,y)=>(e.openBlock(),e.createElementBlock("div",{key:`tab-content-${y}`,class:e.normalizeClass(`${t.baseCssClass}__author-tab-content`),style:e.normalizeStyle({display:_.value===y?"block":"none"})},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(k)))],6))),128)):I.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(h.value[_.value]),{key:2})),e.unref(l)?(e.openBlock(),e.createBlock(e.unref(i.ContainerPlaceholder),e.normalizeProps(e.mergeProps({key:3},O.value)),null,16)):e.createCommentVNode("",!0)],16,ce))}}),we="";d.AccordionEditConfig=D,d.CarouselEditConfig=L,d.ContainerEditConfig=V,d.CoreAccordion=W,d.CoreCarousel=oe,d.CoreContainer=M,d.CoreExperienceFragment=le,d.CoreTabs=de,d.ExperienceFragmentEditConfig=j,d.TabsEditConfig=G,Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});
