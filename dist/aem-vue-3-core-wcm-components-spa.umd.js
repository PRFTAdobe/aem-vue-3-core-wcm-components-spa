(function(C,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("aem-vue-3-editable-components"),require("vue"),require("@adobe/aem-spa-page-model-manager")):typeof define=="function"&&define.amd?define(["exports","aem-vue-3-editable-components","vue","@adobe/aem-spa-page-model-manager"],d):(C=typeof globalThis<"u"?globalThis:C||self,d(C.aemVueCoreWcmComponentsSpa={},C.AemVueEditableComponents,C.Vue,C.AemSpaPageModelManager))})(this,function(C,d,e,N){"use strict";const U={emptyLabel:"Accordion",isEmpty(s){return!s.cqItemsOrder||(s==null?void 0:s.cqItemsOrder.length)===0}},V={emptyLabel:"Carousel",isEmpty(s){return!s.cqItemsOrder||(s==null?void 0:s.cqItemsOrder.length)===0}},G={emptyLabel:"Container",isEmpty(s){return!s.cqItemsOrder||(s==null?void 0:s.cqItemsOrder.length)===0}},H={emptyLabel:"Content Fragment",isEmpty(s){return s.elementsOrder.length===0&&s.cqItemsOrder.length===0}},W={emptyLabel:"Experience Fragment",isEmpty(s){return!s.cqItemsOrder||(s==null?void 0:s.cqItemsOrder.length)===0}},X={emptyLabel:"Tabs",isEmpty(s){return!s.cqItemsOrder||(s==null?void 0:s.cqItemsOrder.length)===0}},J="ContentFragment-",M=s=>J+s,z=(s,t)=>{s&&t&&(typeof s=="string"?[s]:s).forEach(f=>{d.MapTo(M(f))(t)})},D=s=>{const t=M(s);return d.ComponentMapping.get(t)},Q=s=>t=>z(s,t),R=e.defineComponent({inheritAttrs:!1,__name:"CoreContainer",props:{accessibilityLabel:{type:String},backgroundStyle:{type:String},cqPath:{type:String,default:""},isInEditor:{type:Boolean,default:void 0},layout:{type:String,default:"RESPONSIVE_GRID",validator:s=>["RESPONSIVE_GRID","SIMPLE"].includes(s)},roleAttribute:{type:String},styleSystemElement:{type:String,default:"div"},...d.componentProperties("cmp-container")},setup(s){const t=s,i=e.useAttrs(),f=typeof t.isInEditor<"u"?t.isInEditor:e.inject("isInEditor",N.AuthoringUtils.isInEditor()),_=e.computed(()=>d.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,f,t.aemNoDecoration)),m=e.computed(()=>{var h;return f&&(i==null?void 0:i.allowedComponents)&&((h=i==null?void 0:i.allowedComponents)==null?void 0:h.applicable)});return(h,E)=>m.value?(e.openBlock(),e.createBlock(e.unref(d.AllowedComponentsContainer),e.normalizeProps(e.mergeProps({key:0},{...t,...e.unref(i)})),null,16)):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.styleSystemElement||"div"),{key:1,id:t.id,"aria-label":t.accessibilityLabel,class:e.normalizeClass(_.value),role:t.roleAttribute,style:e.normalizeStyle(t.backgroundStyle)},{default:e.withCtx(()=>[s.layout==="RESPONSIVE_GRID"?(e.openBlock(),e.createBlock(e.unref(d.ResponsiveGrid),e.normalizeProps(e.mergeProps({key:0},{...t,...e.unref(i),allowedComponents:{applicable:!1,components:[]},title:""})),null,16)):(e.openBlock(),e.createBlock(e.unref(d.Container),e.normalizeProps(e.mergeProps({key:1},{...t,...e.unref(i)})),null,16))]),_:1},8,["id","aria-label","class","role","style"]))}}),Y=["id"],Z=["innerHTML"],F=e.defineComponent({inheritAttrs:!1,__name:"DefaultContentFragment",props:{cqItems:{type:Object,default:()=>({})},cqItemsOrder:{type:Array,default:()=>[]},cqPath:{type:String,default:""},description:{type:String},elements:{type:Object,default:()=>({})},elementsOrder:{type:Array,default:()=>[]},isInEditor:{type:Boolean,default:void 0},model:{type:String},title:{type:String},...d.componentProperties("cmp-contentfragment")},setup(s){const t=s,i=typeof t.isInEditor<"u"?t.isInEditor:e.inject("isInEditor",N.AuthoringUtils.isInEditor()),f=e.inject("componentMapping",new d.ComponentMapping),_=e.computed(()=>d.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,i,t.aemNoDecoration)),m=e.computed(()=>d.Utils.getChildComponents(t.cqPath,t.cqItems,t.cqItemsOrder,!0,()=>({}),!1,f));return(h,E)=>{var B;return e.openBlock(),e.createElementBlock("div",{id:t.id,class:e.normalizeClass(_.value)},[e.createElementVNode("h3",{class:e.normalizeClass(`${t.baseCssClass}__title`)},e.toDisplayString(t.title),3),t.description?(e.openBlock(),e.createElementBlock("p",{key:0,class:e.normalizeClass(`${t.baseCssClass}__description`)},e.toDisplayString(t.description),3)):e.createCommentVNode("",!0),(B=t.elementsOrder)!=null&&B.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(`${t.baseCssClass}__elements`)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.elementsOrder,(y,O)=>(e.openBlock(),e.createElementBlock("div",{key:`${t.id}-element-${y}-${O}`,class:e.normalizeClass(`${t.baseCssClass}__element`)},[e.createElementVNode("div",{class:e.normalizeClass([`${t.baseCssClass}__elemententry`,`${t.baseCssClass}__elemententry--key`])},[e.createElementVNode("h4",null,e.toDisplayString(y),1)],2),e.createElementVNode("div",{class:e.normalizeClass([`${t.baseCssClass}__elemententry`,`${t.baseCssClass}__elemententry--value`]),innerHTML:`value: ${t.elements[y].value}`},null,10,Z),e.createElementVNode("div",{class:e.normalizeClass([`${t.baseCssClass}__elemententry`,`${t.baseCssClass}__elemententry--datatype`])}," datatype: "+e.toDisplayString(t.elements[y].dataType),3),e.createElementVNode("div",{class:e.normalizeClass([`${t.baseCssClass}__elemententry`,`${t.baseCssClass}__elemententry--multivalue`])}," multivalue: "+e.toDisplayString(t.elements[y].multiValue?"true":"false"),3),e.createElementVNode("div",{class:e.normalizeClass([`${t.baseCssClass}__elemententry`,`${t.baseCssClass}__elemententry--type`])}," type: "+e.toDisplayString(t.elements[y][":type"]),3)],2))),128))],2)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,y=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(y),{key:y.toString()}))),128))],10,Y)}}}),v=e.defineComponent({inheritAttrs:!1,__name:"CoreContentFragment",props:{cqItems:{type:Object,default:()=>({})},cqItemsOrder:{type:Array,default:()=>[]},cqPath:{type:String,default:""},description:{type:String},elements:{type:Object,default:()=>({})},elementsOrder:{type:Array,default:()=>[]},isInEditor:{type:Boolean,default:void 0},model:{type:String},title:{type:String},...d.componentProperties("cmp-contentfragment")},setup(s){const t=s,i=e.useAttrs(),f=e.computed(()=>t.elementsOrder.length===0&&t.cqItemsOrder.length===0),_=e.computed(()=>{const m=D(t.model);return m||F});return(m,h)=>f.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(_.value),e.normalizeProps(e.mergeProps({key:0},{...t,...e.unref(i)})),null,16))}}),$={createCallbackListener(s,t){return(i,f=s)=>{i.data&&i.data.id===f&&i.data.operation==="navigate"&&(t.value=i.data.index)}},initMessageChannel(){return this.isBrowser()&&window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel?new window.Granite.author.MessageChannel("cqauthor",window):null},isBrowser(){try{return typeof window<"u"}catch{return!1}},subscribeRequestMessage(s,t){s&&s.subscribeRequestMessage("cmp.panelcontainer",t)},unsubscribeRequestMessage(s,t){s&&s.unsubscribeRequestMessage("cmp.panelcontainer",t)}},ee=["id"],te=["id","data-cmp-expanded"],se=["id","aria-controls","aria-expanded","onClick"],ae=[e.createElementVNode("svg",{fill:"var(--accordion-heading-color)",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg"},[e.createElementVNode("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})],-1)],ne=["id","aria-hidden","aria-labelledby"],oe=e.defineComponent({inheritAttrs:!1,__name:"CoreAccordion",props:{cqItems:{type:Object},cqItemsOrder:{type:Array},cqPath:{type:String,default:""},expandedItems:{type:Array,default:()=>[]},headingElement:{type:String,default:"h3"},isInEditor:{type:Boolean,default:void 0},singleExpansion:{type:Boolean,default:void 0},...d.componentProperties("cmp-accordion")},setup(s){const t=s,i=typeof t.isInEditor<"u"?t.isInEditor:e.inject("isInEditor",N.AuthoringUtils.isInEditor()),f=e.inject("componentMapping",new d.ComponentMapping),_=e.ref(null),m=$.initMessageChannel(),h=e.computed(()=>d.Utils.getChildComponents(t.cqPath,t.cqItems,t.cqItemsOrder,!0,()=>({}),!1,f)),E=e.computed(()=>d.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,i,t.aemNoDecoration)),B=e.computed(()=>!t.cqItemsOrder||(t==null?void 0:t.cqItemsOrder.length)===0),y=e.computed(()=>({cqPath:t.cqPath,placeholderClassNames:["new","section"].join(" ")})),O=e.computed(()=>{const a={class:"aem-container","data-panelcontainer":"accordion"};return i&&(a["data-cq-data-path"]=t.cqPath),a}),x=()=>{let a=[];if(_.value){const o=_.value.querySelectorAll(`.${t.baseCssClass}__item[data-cmp-expanded]`);a=Array.from(o)}return a},S=a=>{if(_.value){const r=_.value,o=r.querySelectorAll(`.${t.baseCssClass}__item`),n=Array.from(o).indexOf(a);if(n>-1){const p=r.querySelectorAll(`.${t.baseCssClass}__button`);p[n].classList.add(`${t.baseCssClass}__button--expanded`),p[n].setAttribute("aria-expanded","true");const q=r.querySelectorAll(`.${t.baseCssClass}__panel`);q[n].classList.add(`${t.baseCssClass}__panel--expanded`),q[n].classList.remove(`${t.baseCssClass}__panel--hidden`),q[n].setAttribute("aria-hidden","false")}}},I=a=>{if(_.value){const r=_.value,o=r.querySelectorAll(`.${t.baseCssClass}__item`),n=Array.from(o).indexOf(a);if(n>-1){const p=r.querySelectorAll(`.${t.baseCssClass}__button`);p[n].classList.remove(`${t.baseCssClass}__button--expanded`),p[n].removeAttribute("aria-expanded");const q=r.querySelectorAll(`.${t.baseCssClass}__panel`);q[n].classList.remove(`${t.baseCssClass}__panel--expanded`),q[n].classList.add(`${t.baseCssClass}__panel--hidden`),q[n].setAttribute("aria-hidden","true")}}},k=a=>{a.hasAttribute("data-cmp-expanded")?S(a):I(a)},P=(a,r)=>{r?a.setAttribute("data-cmp-expanded",""):a.removeAttribute("data-cmp-expanded"),k(a)},A=a=>{if(_.value){const o=_.value.querySelectorAll(`.${t.baseCssClass}__item`),n=o[a];n&&(t.singleExpansion===!0&&o.forEach(p=>{p!==n&&p.hasAttribute("data-cmp-expanded")&&P(p,!1)}),P(n,!n.hasAttribute("data-cmp-expanded")))}},w=(a,r=t.cqPath)=>{a.data&&a.data.id===r&&a.data.operation==="navigate"&&A(a.data.index)};return e.onMounted(()=>{if(t.singleExpansion===!0){const a=x();a.length>1&&A(a.length-1)}$.subscribeRequestMessage(m,w)}),e.onUnmounted(()=>{$.unsubscribeRequestMessage(m,w)}),(a,r)=>(e.openBlock(),e.createElementBlock("div",e.mergeProps({id:t.id,ref_key:"accordionContainer",ref:_,class:E.value},O.value),[B.value?e.createCommentVNode("",!0):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(t.cqItemsOrder,(o,n)=>(e.openBlock(),e.createElementBlock("div",{id:`accordion-${t.cqItems[o].id}`,key:`accordion-index-${n}`,class:e.normalizeClass(`${t.baseCssClass}__item`),"data-cmp-expanded":t.expandedItems.includes(o)?!0:void 0,"data-cmp-hook-accordion":"item"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.headingElement),{class:e.normalizeClass(`${t.baseCssClass}__heading`)},{default:e.withCtx(()=>[e.createElementVNode("button",{id:`accordion-${t.cqItems[o].id}-button`,"aria-controls":`accordion-${t.cqItems[o].id}-panel`,"aria-expanded":t.expandedItems.includes(o)?"true":void 0,class:e.normalizeClass([`${t.baseCssClass}__button`,{[`${t.baseCssClass}__button--expanded`]:t.expandedItems.includes(o)}]),"data-cmp-hook-accordion":"button",type:"button",onClick:p=>{A(n),p.currentTarget.focus()}},[e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__title`)},e.toDisplayString(t.cqItems[o]["cq:panelTitle"]),3),e.createElementVNode("span",{class:e.normalizeClass(`${t.baseCssClass}__icon`)},ae,2)],10,se)]),_:2},1032,["class"])),e.createElementVNode("div",{id:`accordion-${t.cqItems[o].id}-panel`,"aria-hidden":t.expandedItems.includes(o)?void 0:"true","aria-labelledby":`accordion-${t.cqItems[o].id}-button`,class:e.normalizeClass([`${t.baseCssClass}__panel`,{[`${t.baseCssClass}__panel--expanded`]:t.expandedItems.includes(o)},{[`${t.baseCssClass}__panel--hidden`]:!t.expandedItems.includes(o)}]),"data-cmp-hook-accordion":"panel",role:"region"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(h.value[s.cqItemsOrder.indexOf(o)]),e.normalizeProps(e.guardReactiveProps({isInEditor:!1})),null,16))],10,ne)],10,te))),128)),s.isInEditor?(e.openBlock(),e.createBlock(e.unref(d.ContainerPlaceholder),e.normalizeProps(e.mergeProps({key:1},y.value)),null,16)):e.createCommentVNode("",!0)],16,ee))}}),le=["id"],ie=["aria-live","onKeydown"],re=["id","aria-hidden","aria-label","aria-labelledby"],ce=["aria-label"],de=["id","aria-controls","aria-label","aria-selected","onClick"],me=e.defineComponent({inheritAttrs:!1,__name:"CoreCarousel",props:{accessibility:{type:Object,default:()=>({slide:"Slide {0} of {1}",indicator:"Slide {0}"})},accessibilityLabel:{type:String,default:"Carousel"},accessibilityNext:{type:String,default:"Next"},accessibilityPause:{type:String,default:"Pause"},accessibilityPlay:{type:String,default:"Play"},accessibilityPrevious:{type:String,default:"Previous"},accessibilityTablist:{type:String,default:"Choose a slide to display"},activeItem:{type:String},autopauseDisabled:{type:Boolean,default:!1},cqItems:{type:Object},cqItemsOrder:{type:Array},cqPath:{type:String,default:""},controlsPrepended:{type:Boolean,default:!1},delay:{type:Number,default:5e3},isInEditor:{type:Boolean,default:void 0},...d.componentProperties("cmp-carousel")},setup(s){const t=s,i=e.useAttrs(),f=typeof t.isInEditor<"u"?t.isInEditor:e.inject("isInEditor",N.AuthoringUtils.isInEditor()),_=e.inject("componentMapping",new d.ComponentMapping),m=e.ref(t.cqItemsOrder.indexOf(t.activeItem)>0?t.cqItemsOrder.indexOf(t.activeItem):0),h=e.ref(null),E=e.ref(-1),B=$.initMessageChannel(),y=e.ref((i==null?void 0:i.autoplay)===!0&&!f),O=e.computed(()=>d.Utils.getChildComponents(t.cqPath,t.cqItems,t.cqItemsOrder,!0,()=>({}),!1,_)),x=e.computed(()=>d.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,f,t.aemNoDecoration)),S=e.computed(()=>{const l={"aria-label":t.accessibilityLabel,"aria-live":"polite","aria-roledescription":"carousel",class:"aem-container","data-panelcontainer":"carousel",role:"group"};return f&&(l["data-cq-data-path"]=t.cqPath),l}),I=l=>{if(h.value){const b=h.value,g=b.querySelectorAll(`.${t.baseCssClass}__item`),u=b.querySelectorAll(`.${t.baseCssClass}__indicator`);l<0&&(l=g.length-1),l>=g.length&&(l=0),g.length&&g.forEach((c,L)=>{L===l?(c.classList.add(`${t.baseCssClass}__item--active`),c.removeAttribute("aria-hidden")):(c.classList.remove(`${t.baseCssClass}__item--active`),c.setAttribute("aria-hidden","true"))}),u.length&&u.forEach((c,L)=>{L===l?(c.classList.add(`${t.baseCssClass}__indicator--active`),c.setAttribute("aria-selected","true"),c.setAttribute("tabindex","0")):(c.classList.remove(`${t.baseCssClass}__indicator--active`),c.removeAttribute("aria-selected"),c.setAttribute("tabindex","-1"))})}},k=()=>{let l=0;if(h.value){const b=h.value,g=b.querySelectorAll(`.${t.baseCssClass}__item`),u=b.querySelector(`.${t.baseCssClass}__item--active`);l=Array.from(g).indexOf(u)}return l},P=l=>{I(l),h.value&&h.value.querySelectorAll(`.${t.baseCssClass}__item`)[l].focus()},A=()=>{const l=k();I(l+1)},w=()=>{const l=k();I(l-1)},a=()=>{if(!y.value||t.cqItemsOrder.length<=1)return;const l=k();I(l+1)},r=()=>{E.value=setInterval(()=>{a()},t.delay)},o=()=>{clearInterval(E.value)},n=l=>{y.value=l},p=e.computed(()=>{const l=e.h("button",{"aria-label":t.accessibilityPrevious,class:[`${t.baseCssClass}__action`,`${t.baseCssClass}__action--previous`],type:"button",onClick:()=>{w()}},[e.h("span",{class:`${t.baseCssClass}__action-icon`},[e.h("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.h("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}))]),e.h("span",{class:`${t.baseCssClass}__action-text`},[t.accessibilityPrevious])]),b=e.h("button",{"aria-label":t.accessibilityNext,class:[`${t.baseCssClass}__action`,`${t.baseCssClass}__action--next`],type:"button",onClick:()=>{A()}},[e.h("span",{class:`${t.baseCssClass}__action-icon`},[e.h("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.h("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}))]),e.h("span",{class:`${t.baseCssClass}__action-text`},[t.accessibilityNext])]),g=e.h("button",{"aria-label":t.accessibilityPause,class:[`${t.baseCssClass}__action`,`${t.baseCssClass}__action--pause`,{[`${t.baseCssClass}__action--disabled`]:!y.value}],type:"button",onClick:()=>{n(!1)}},[e.h("span",{class:`${t.baseCssClass}__action-icon`},[e.h("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e.h("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})])]),e.h("span",{class:`${t.baseCssClass}__action-text`},[t.accessibilityPause])]),u=e.h("button",{"aria-label":t.accessibilityPlay,class:[`${t.baseCssClass}__action`,`${t.baseCssClass}__action--play`,{[`${t.baseCssClass}__action--disabled`]:y.value}],type:"button",onClick:()=>{n(!0)}},[e.h("span",{class:`${t.baseCssClass}__action-icon`},[e.h("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e.h("path",{d:"M8 5v14l11-7z"})])]),e.h("span",{class:`${t.baseCssClass}__action-text`},[t.accessibilityPlay])]),c=[l,b];return(i==null?void 0:i.autoplay)===!0&&(c.push(g),c.push(u)),e.h("div",{class:`${t.baseCssClass}__actions`},c)}),q=e.computed(()=>!t.cqItemsOrder||(t==null?void 0:t.cqItemsOrder.length)===0),he=e.computed(()=>({cqPath:t.cqPath,placeholderClassNames:["new","section"].join(" ")})),ge=l=>{var u;let b=((u=t.accessibility)==null?void 0:u.indicator)||"";const g="{0}";return b=b.replace(g,(l+1).toString()),b},ue=l=>{var c;let b=((c=t.accessibility)==null?void 0:c.slide)||"";const g="{0}";b=b.replace(g,(l+1).toString());const u="{1}";return b=b.replace(u,t.cqItemsOrder.length.toString()),b},Ie=l=>{I(l)},qe=()=>{!t.autopauseDisabled&&y.value&&o()},$e=()=>{!t.autopauseDisabled&&y.value&&r()},Ee=()=>{if(h.value){const b=h.value.querySelectorAll(`.${t.baseCssClass}__item`);P(b.length-1)}},K=()=>{const l=k();P(l-1)},j=()=>{const l=k();P(l+1)},T=(l,b=t.cqPath)=>{l.data&&l.data.id===b&&l.data.operation==="navigate"&&I(l.data.index)};return e.onMounted(()=>{r(),$.subscribeRequestMessage(B,T)}),e.onUnmounted(()=>{typeof E.value=="number"&&E.value>=0&&o(),$.unsubscribeRequestMessage(B,T)}),e.watchEffect(()=>m.value=t.cqItemsOrder.indexOf(t.activeItem)>0?t.cqItemsOrder.indexOf(t.activeItem):0),(l,b)=>{var g;return e.openBlock(),e.createElementBlock("div",e.mergeProps({id:t.id,ref_key:"carouselContainer",ref:h,class:x.value},S.value),[t.controlsPrepended?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p.value),{key:0})):e.createCommentVNode("",!0),q.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,"aria-live":((g=e.unref(i))==null?void 0:g.autoplay)===!0?"off":"polite",class:e.normalizeClass(`${t.baseCssClass}__content`),"aria-atomic":"false",onMouseenter:qe,onMouseleave:$e,onKeydown:[e.withKeys(K,["left"]),e.withKeys(K,["up"]),e.withKeys(j,["right"]),e.withKeys(j,["down"]),b[0]||(b[0]=e.withKeys(u=>P(0),["home"])),e.withKeys(Ee,["end"])]},[e.createElementVNode("div",{class:e.normalizeClass([{[`${t.baseCssClass}__items`]:!e.unref(f)}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.value,(u,c)=>(e.openBlock(),e.createElementBlock("div",{id:`${t.cqItems[t.cqItemsOrder[c]].id}-tabpanel`,key:`item-${c}`,"aria-hidden":c===m.value?void 0:!0,"aria-label":ue(c),"aria-labelledby":`${t.cqItems[t.cqItemsOrder[c]].id}-tab`,class:e.normalizeClass([`${t.baseCssClass}__item`,{[`${t.baseCssClass}__item--active`]:c===m.value}]),"aria-roledescription":"slide","data-cmp-hook-carousel":"item",role:"tabpanel"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u),e.normalizeProps(e.guardReactiveProps({isInEditor:!1})),null,16))],10,re))),128))],2),t.controlsPrepended?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p.value),{key:0})),e.createElementVNode("ol",{"aria-label":t.accessibilityTablist,class:e.normalizeClass(`${t.baseCssClass}__indicators`),role:"tablist"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.cqItemsOrder,(u,c)=>(e.openBlock(),e.createElementBlock("li",{id:`${t.cqItems[t.cqItemsOrder[c]].id}-tab`,key:`item-${c}`,"aria-controls":`${t.cqItems[t.cqItemsOrder[c]].id}-tabpanel`,"aria-label":ge(c),"aria-selected":c===m.value?!0:void 0,class:e.normalizeClass([`${t.baseCssClass}__indicator`,{[`${t.baseCssClass}__indicator--active`]:c===m.value}]),role:"tab",onClick:L=>Ie(c)},e.toDisplayString(t.cqItems[u]["cq:panelTitle"]),11,de))),128))],10,ce)],42,ie)),e.unref(f)?(e.openBlock(),e.createBlock(e.unref(d.ContainerPlaceholder),e.normalizeProps(e.mergeProps({key:2},he.value)),null,16)):e.createCommentVNode("",!0)],16,le)}}}),pe=e.defineComponent({__name:"CoreExperienceFragment",setup(s){return(t,i)=>(e.openBlock(),e.createBlock(R,{"is-in-editor":!1}))}}),Ce=["id","onKeydown"],be=["aria-label"],_e=["id","aria-controls","aria-selected","tabIndex","onClick"],ye=["id","aria-hidden","aria-labelledby"],fe=e.defineComponent({inheritAttrs:!1,__name:"CoreTabs",props:{activeItem:{type:String},accessibilityLabel:{type:String},cqItems:{type:Object},cqItemsOrder:{type:Array},cqPath:{type:String,default:""},isInEditor:{type:Boolean,default:void 0},...d.componentProperties("cmp-tabs")},setup(s){const t=s,i=typeof t.isInEditor<"u"?t.isInEditor:e.inject("isInEditor",N.AuthoringUtils.isInEditor()),f=e.inject("componentMapping",new d.ComponentMapping),_=e.ref(t.cqItemsOrder.indexOf(t.activeItem)>0?t.cqItemsOrder.indexOf(t.activeItem):0),m=e.ref(null),h=$.initMessageChannel(),E=e.computed(()=>d.Utils.getChildComponents(t.cqPath,t.cqItems,t.cqItemsOrder,!0,()=>({}),!1,f)),B=e.computed(()=>d.componentClassNames(t.baseCssClass,t.appliedCssClassNames,t.cssClassNames,t.containerProps,i,t.aemNoDecoration)),y=e.computed(()=>!t.cqItemsOrder||(t==null?void 0:t.cqItemsOrder.length)===0),O=e.computed(()=>{const a={class:"aem-container","data-panelcontainer":"tabs"};return i&&(a["data-cq-data-path"]=t.cqPath),a}),x=e.computed(()=>({cqPath:t.cqPath,placeholderClassNames:["new","section"].join(" ")})),S=a=>{if(m.value){const r=m.value,o=r.querySelectorAll(`.${t.baseCssClass}__tab`),n=r.querySelectorAll(`.${t.baseCssClass}__tabpanel`);a<0&&(a=o.length-1),a>=o.length&&(a=0),o.length&&o.forEach((p,q)=>{q===a?(p.classList.add(`${t.baseCssClass}__tab--active`),p.setAttribute("aria-selected","true"),p.setAttribute("tabindex","0")):(p.classList.remove(`${t.baseCssClass}__tab--active`),p.removeAttribute("aria-selected"),p.setAttribute("tabindex","-1"))}),n.length&&n.forEach((p,q)=>{q===a?(p.classList.add(`${t.baseCssClass}__tabpanel--active`),p.removeAttribute("aria-hidden")):(p.classList.remove(`${t.baseCssClass}__tabpanel--active`),p.setAttribute("aria-hidden","true"))})}},I=a=>{S(a),m.value&&m.value.querySelectorAll(`.${t.baseCssClass}__tabpanel`)[a].focus()},k=(a,r=t.cqPath)=>{a.data&&a.data.id===r&&a.data.operation==="navigate"&&S(a.data.index)},P=()=>{if(m.value){const r=m.value.querySelectorAll(`.${t.baseCssClass}__tab`);I(r.length-1)}},A=()=>{if(m.value){const a=m.value,r=a.querySelectorAll(`.${t.baseCssClass}__tab`),o=a.querySelector(`.${t.baseCssClass}__tab--active`),n=Array.from(r).indexOf(o);I(n-1)}},w=()=>{if(m.value){const a=m.value,r=a.querySelectorAll(`.${t.baseCssClass}__tab`),o=a.querySelector(`.${t.baseCssClass}__tab--active`),n=Array.from(r).indexOf(o);I(n+1)}};return e.onMounted(()=>{$.subscribeRequestMessage(h,k)}),e.onUnmounted(()=>{$.unsubscribeRequestMessage(h,k)}),e.watchEffect(()=>_.value=t.cqItemsOrder.indexOf(t.activeItem)>0?t.cqItemsOrder.indexOf(t.activeItem):0),(a,r)=>(e.openBlock(),e.createElementBlock("div",e.mergeProps({id:t.id,ref_key:"tabContainer",ref:m,class:B.value},O.value,{onKeydown:[e.withKeys(A,["left"]),e.withKeys(A,["up"]),e.withKeys(w,["right"]),e.withKeys(w,["down"]),r[0]||(r[0]=e.withKeys(o=>I(0),["home"])),e.withKeys(P,["end"])]}),[y.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("ol",{key:0,"aria-label":t.accessibilityLabel,class:e.normalizeClass(`${t.baseCssClass}__tablist`),"aria-multiselectable":"false",role:"tablist"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.cqItemsOrder,(o,n)=>(e.openBlock(),e.createElementBlock("li",{id:`${t.cqItems[o].id}-tab`,key:`tab-${n}`,"aria-controls":`${t.cqItems[o].id}-tabpanel`,"aria-selected":n===_.value?!0:void 0,class:e.normalizeClass([`${t.baseCssClass}__tab`,{[`${t.baseCssClass}__tab--active`]:n===_.value}]),tabIndex:n===_.value?0:-1,role:"tab",onClick:p=>S(n)},e.toDisplayString(t.cqItems[o]["cq:panelTitle"]),11,_e))),128))],10,be)),y.value?e.createCommentVNode("",!0):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(E.value,(o,n)=>(e.openBlock(),e.createElementBlock("div",{id:`${t.cqItems[t.cqItemsOrder[n]].id}-tabpanel`,key:`tab-content-${n}`,"aria-hidden":n===_.value?void 0:!0,"aria-labelledby":`${t.cqItems[t.cqItemsOrder[n]].id}-tab`,class:e.normalizeClass([`${t.baseCssClass}__tabpanel`,{[`${t.baseCssClass}__tabpanel--active`]:n===_.value}]),role:"tabpanel",tabindex:"0"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o),e.normalizeProps(e.guardReactiveProps({isInEditor:!1})),null,16))],10,ye))),128)),e.unref(i)?(e.openBlock(),e.createBlock(e.unref(d.ContainerPlaceholder),e.normalizeProps(e.mergeProps({key:2},x.value)),null,16)):e.createCommentVNode("",!0)],16,Ce))}});C.AccordionEditConfig=U,C.CarouselEditConfig=V,C.ContainerEditConfig=G,C.ContentFragmentEditConfig=H,C.CoreAccordion=oe,C.CoreCarousel=me,C.CoreContainer=R,C.CoreContentFragment=v,C.CoreExperienceFragment=pe,C.CoreTabs=fe,C.DefaultContentFragment=F,C.ExperienceFragmentEditConfig=W,C.MapToContentFragmentModel=Q,C.SpaUtils=$,C.TabsEditConfig=X,C.getRenderer=D,C.mapRenderer=z,Object.defineProperty(C,Symbol.toStringTag,{value:"Module"})});
